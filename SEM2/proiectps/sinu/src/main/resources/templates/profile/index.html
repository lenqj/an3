<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments :: head}"></head>
<body class="bg-gray-100 font-sans">
<div th:replace="~{fragments :: menu}"></div>
<div class="container mx-auto p-8">
    <div class="bg-white shadow-md rounded-lg">
        <div class="bg-blue-500 text-white py-4 px-6 rounded-t-lg">
            <h1 th:text="'Welcome back, ' + ${user.firstName} + ' ' + ${user.lastName} + '!'"></h1>
        </div>
        <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg">
                    <div class="md:flex">
                        <div class="md:flex-shrink-0">
                            <img class="w-full h-48 object-cover md:w-48" th:src="@{~/images/default-image.png}" alt="Default image">
                        </div>
                        <div class="p-8">
                            <div class="uppercase tracking-wide text-sm text-indigo-500 font-semibold" th:text="${user.firstName} + ' ' + ${user.lastName} ?: 'No Full Name'"></div>
                            <p class="text-gray-600" th:text="${user.username}"></p>
                        </div>
                    </div>
                </div>
                <div class="max-w-md mx-auto bg-white rounded-lg overflow-hidden md:max-w-lg">
                    <div class="p-8">
                        <div class="mb-4">
                            <h6 class="font-bold">Full Name</h6>
                            <p th:text="${user.firstName} + ' ' + ${user.lastName} ?: 'No Full Name'" class="text-gray-700"></p>
                        </div>
                        <hr class="my-2">
                        <div class="mb-4">
                            <h6 class="font-bold">Email</h6>
                            <p th:text="${user.emailAddress} ?: 'No Email Address'" class="text-gray-700"></p>
                        </div>
                        <a sec:authorize="hasAuthority('Student')" th:href="@{~/api/student/view-grades}" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600">View Grades</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-4">
    <form th:action="@{~/api/auth/logout}" method="post">
            <button type="submit" class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600">Logout</button>
        </form>
    </div>
</div>
</body>
</html>
